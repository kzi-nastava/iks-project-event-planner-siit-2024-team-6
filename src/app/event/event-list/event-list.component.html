<div class="event-section">
  <div class="event-section-header">
    <h2 class="event-section-title">Events</h2>
    <div class="filter-container">
      <div class="search">
        <input
          type="text"
          [(ngModel)]="searchQuery"
          (ngModelChange)="onSearchChange($event)"
          placeholder="Search"
        />
        <button (click)="onSearch()"><i class="fa fa-search"></i></button>
      </div>
      <!-- Sorting dropdown -->
      <label for="sortDir" class="filter-text" style="margin-left: 10px"
        >Sort:</label
      >
      <select
        id="sortDir"
        [(ngModel)]="sortDir"
        #sortSelect
        (change)="onSortChange(sortSelect.value)"
      >
        <option value="asc">Date (Asc)</option>
        <option value="desc">Date (Desc)</option>
      </select>
      <span class="filter-text">Filter</span>
      <button
        id="openFilterButton"
        class="filter-icon"
        (click)="toggleFilter()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          viewBox="0 -960 960 960"
          width="24px"
        >
          <path
            d="M440-120v-240h80v80h320v80H520v80h-80Zm-320-80v-80h240v80H120Zm160-160v-80H120v-80h160v-80h80v240h-80Zm160-80v-80h400v80H440Zm160-160v-240h80v80h160v80H680v80h-80Zm-480-80v-80h400v80H120Z"
          />
        </svg>
      </button>
    </div>
  </div>
  <div class="event-list">
    <ng-container *ngIf="events.length > 0; else noEvents">
      <app-event-card
        *ngFor="let event of events"
        [event]="event"
      ></app-event-card>
    </ng-container>
    <ng-template #noEvents>
      <div class="no-events-message">
        <i class="fa fa-calendar-times"></i>
        <p>
          No events available. Please try adjusting your search or filter
          criteria.
        </p>
      </div>
    </ng-template>
  </div>

  <mat-paginator
    [pageSize]="pageProperties.pageSize"
    [pageSizeOptions]="pageProperties.pageSizeOptions"
    [length]="pageProperties.totalCount"
    (page)="pageChanged($event)"
  >
  </mat-paginator>
</div>

<app-events-filter
  [isVisible]="isFilterVisible"
  [searchQuery]="searchQuery"
  (close)="toggleFilter()"
  (apply)="onFiltersApplied($event)"
>
</app-events-filter>
