<div class="event-section">
  <div class="event-section-header">
    <h2 class="event-section-title">Create Event</h2>
  </div>

  <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Event Name</label>
      <input
        id="name"
        type="text"
        class="form-control"
        formControlName="name"
        placeholder="Enter event name"
      />
      <div *ngIf="eventForm.get('name')?.invalid && eventForm.get('name')?.touched">
        Event name is required.
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        class="form-control"
        formControlName="description"
        placeholder="Enter event description"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="maxParticipants">Max Participants</label>
      <input
        id="maxParticipants"
        type="number"
        class="form-control"
        formControlName="maxParticipants"
      />
    </div>

    <!-- Добавленные кнопки Public / Private -->
    <div class="form-group">
      <label>Event Visibility</label>
      <div>
        <button
          type="button"
          class="btn"
          [class.btn-primary]="isPublic"
          [class.btn-outline-primary]="!isPublic"
          (click)="setVisibility(true)"
        >
          Public
        </button>
        <button
          type="button"
          class="btn"
          [class.btn-primary]="!isPublic"
          [class.btn-outline-primary]="isPublic"
          (click)="setVisibility(false)"
        >
          Private
        </button>
      </div>
    </div>

    <!-- Отображение компонента send-invitations при выборе Private -->
    <div *ngIf="!isPublic">
      <app-invitations></app-invitations>
    </div>

    <div class="form-group">
      <label for="place">Place</label>
      <input id="place" type="text" class="form-control" formControlName="place" />
    </div>

    <div class="form-group">
      <label for="date">Date</label>
      <input id="date" type="datetime-local" class="form-control" formControlName="date" />
    </div>

    <div class="form-group">
      <label for="eventType">Event Type</label>
      <select id="eventType" class="form-control" formControlName="eventType">
        <option *ngFor="let type of eventTypes" [value]="type.id">
          {{ type.name }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="photos">Photos (URLs)</label>
      <input
        id="photos"
        type="text"
        #photoUrlInput
        placeholder="Enter photo URL"
        class="form-control"
      />
      <button type="button" (click)="addPhotoUrl(photoUrlInput.value)">
        Add Photo
      </button>
      <ul>
        <li *ngFor="let photo of photos; let i = index">
          {{ photo }}
          <button type="button" (click)="removePhotoUrl(i)">Remove</button>
        </li>
      </ul>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="eventForm.invalid">
      Submit
    </button>
  </form>
</div>
